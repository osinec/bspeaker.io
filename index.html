<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- 1. –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
    <meta charset="UTF-8"> <!-- ‚ùó –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- üü¢ –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —É–±—Ä–∞—Ç—å -->

    <!-- 2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π</title>

    <!-- 3. Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>  <!-- üö´ –ù–µ —É–¥–∞–ª—è—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å—Ç–∏–ª–∏ –∏–∑ Tailwind -->

    <!-- 4. Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"  rel="stylesheet"> <!-- üö´ –ù–µ —É–¥–∞–ª—è—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∫–æ–Ω–∫–∏ -->

    <!-- 5. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <style>
        .speech-card:hover {
            transform: translateY(-5px); <!-- üü¢ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å: —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ -->
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); <!-- üü¢ –ú–µ–Ω—è–π—Ç–µ —Ç–µ–Ω–∏ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ -->
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen">

    <!-- 6. –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container mx-auto px-4 py-4 md:py-8">
        
        <!-- 7. –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
        <header class="mb-6 md:mb-12 text-center">
            <h1 class="text-2xl md:text-4xl font-bold text-white mb-2">–¢—Ä–µ–Ω–∞–∂—ë—Ä –æ—Ä–∞—Ç–æ—Ä—Å–∫–æ–≥–æ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞</h1>
            <p class="text-base md:text-lg text-white max-w-2xl mx-auto px-2">–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É–π—Ç–µ —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</p>
        </header>

        <!-- 8. –ú–∞–∫–µ—Ç —Å–µ—Ç–∫–∏ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8">

            <!-- 9. –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π -->
            <div class="md:col-span-2 space-y-6">
                <div class="bg-gray-800 rounded-xl shadow-md p-4 md:p-6">
                    <h2 class="text-2xl font-semibold text-white">–ú–æ–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h2>

                    <!-- 10. –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π -->
                    <div id="exercisesList" class="space-y-3 md:space-y-4 overflow-y-auto max-h-[70vh] md:max-h-none"></div>
                </div>
            </div>

            <!-- 11. –ö–æ–ª–æ–Ω–∫–∞ —Ç–∞–π–º–µ—Ä–∞ -->
            <div class="space-y-6">
                <!-- –¢–∞–π–º–µ—Ä -->
                <div class="bg-gray-800 rounded-xl shadow-md p-6">
                    <h2 class="text-2xl font-semibold text-white mb-4">–ì–æ—Ç–æ–≤—ã –≤—ã—Å—Ç—É–ø–∞—Ç—å?</h2>
                    <div class="flex flex-col items-center">
                        <div class="relative mb-6">
                            <!-- SVG –∫—Ä—É–≥–æ–≤–æ–π —Ç–∞–π–º–µ—Ä -->
                            <svg id="timerCircle" class="w-64 h-64 -rotate-90">
                                <circle cx="50%" cy="50%" r="80" fill="none" stroke="#2D3748" stroke-width="12"></circle>
                                <circle id="timerProgress" cx="50%" cy="50%" r="80" fill="none" stroke="#4299E1" stroke-width="12" stroke-dasharray="502.4" stroke-dashoffset="0"></circle>
                            </svg>
                            <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ -->
                            <div id="timerDisplay" class="absolute inset-0 flex items-center justify-center flex-col">
                                <div class="text-4xl md:text-5xl font-bold text-white mb-1">03:00</div>
                                <div class="text-sm text-white">–æ—Å—Ç–∞–ª–æ—Å—å</div>
                            </div>
                        </div>
                        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–æ–º -->
                        <div class="flex space-x-2 md:space-x-3">
                            <button id="startTimer" onclick="startTimer()" class="px-4 py-1 md:px-6 md:py-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition flex items-center text-sm md:text-base">
                                <i class="fas fa-play mr-2"></i> –°—Ç–∞—Ä—Ç
                            </button>
                            <button id="pauseTimer" onclick="pauseTimer()" class="px-6 py-2 bg-gray-700 border border-gray-600 text-white rounded-full hover:bg-gray-600 transition flex items-center hidden">
                                <i class="fas fa-pause mr-2"></i> –ü–∞—É–∑–∞
                            </button>
                            <button onclick="resetTimer()" class="px-6 py-2 bg-gray-700 border border-gray-600 text-white rounded-full hover:bg-gray-600 transition flex items-center">
                                <i class="fas fa-redo mr-2"></i> –°–±—Ä–æ—Å
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 12. –ë–ª–æ–∫ "–°–µ–π—á–∞—Å –≤—ã—Å—Ç—É–ø–∞–µ—Ç–µ" -->
                <div id="currentExercise" class="bg-gray-800 rounded-xl shadow-md p-6 hidden">
                    <h2 class="text-2xl font-semibold text-white mb-2">–°–µ–π—á–∞—Å –≤—ã—Å—Ç—É–ø–∞–µ—Ç–µ:</h2>
                    <h3 id="currentExerciseTitle" class="text-xl font-medium text-white mb-2"></h3>
                    <p id="currentExerciseDesc" class="text-white mb-3"></p>
                    <div id="currentExerciseDiff" class="flex items-center text-sm"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- 13. JavaScript -->
    <script>
        // 14. –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        let exercises = [
            {
                id: 1,
                title: "–ó–∞–≥–∞–¥–æ—á–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç",
                description: "–í–æ–∑—å–º–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç –∏ —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –Ω—ë–º 3 –º–∏–Ω—É—Ç—ã...",
                difficulty: 2,
                time: 3,
                completed: false
            },
            {
                id: 2,
                title: "–°–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è —Ä–µ—á—å", 
                description: "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ 2 –º–∏–Ω—É—Ç—ã.",
                difficulty: 1,
                time: 2,
                completed: false
            },
            {
                id: 3,
                title: "–í–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∞—è —Ä–µ—á—å",
                description: "–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ 5-–º–∏–Ω—É—Ç–Ω—É—é –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—É—é —Ä–µ—á—å.",
                difficulty: 3,
                time: 5,
                completed: false
            }
        ]; // üü¢ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –º–µ–Ω—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ, –≤—Ä–µ–º—è –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å

        const isAdminMode = true; // üü¢ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ false, –µ—Å–ª–∏ —Å–∞–π—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        let timerInterval;
        let timeLeft = 180; // üü¢ –ù–∞—á–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (3 –º–∏–Ω—É—Ç—ã)
        let isTimerRunning = false;
        let currentExerciseId = null;

        // 15. DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const exercisesList = document.getElementById('exercisesList'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–∏—Å–æ–∫
        const timerDisplay = document.getElementById('timerDisplay'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —Ç–∞–π–º–µ—Ä
        const timerProgress = document.getElementById('timerProgress'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∫—Ä—É–≥ —Ç–∞–π–º–µ—Ä–∞
        const startTimerBtn = document.getElementById('startTimer'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞
        const pauseTimerBtn = document.getElementById('pauseTimer'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∫–Ω–æ–ø–∫–∞ –ø–∞—É–∑—ã
        const currentExerciseDiv = document.getElementById('currentExercise'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —Ç–µ–∫—É—â–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
        const currentExerciseTitle = document.getElementById('currentExerciseTitle'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        const currentExerciseDesc = document.getElementById('currentExerciseDesc'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        const currentExerciseDiff = document.getElementById('currentExerciseDiff'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

        // 16. –§–æ—Ä–º–∏—Ä—É–µ—Ç –º–µ—Ç–∫—É —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        function getDifficultyLabel(difficulty) {
            let label = '';
            switch (difficulty) {
                case 1:
                    label = "–ù–µ –±–µ–π—Ç–µ –º–µ–Ω—è..."; // üü¢ –ú–µ–Ω—è–π—Ç–µ –Ω–∞ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç
                    break;
                case 2:
                    label = "–ì–æ–≤–æ—Ä–∏ –∏–ª–∏ —É–º—Ä–∏.."; // üü¢ –¢–æ –∂–µ —Å–∞–º–æ–µ
                    break;
                case 3:
                    label = "Voice of God"; // üü¢ –ú–µ–Ω—è–π—Ç–µ –∫–∞–∫ —É–≥–æ–¥–Ω–æ
                    break;
                default:
                    label = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"; // üü¢ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
            }

            return `<span class="inline-block border border-blue-500 text-white text-xs px-2 py-1 rounded">${label}</span>`;
        }

        // 17. –†–∏—Å—É–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        function renderExercises() {
            // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –æ—á–∏—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–¥ –Ω–æ–≤–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π
            exercisesList.innerHTML = '';

            // üü¢ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–µ–Ω—è—Ç—å: —Å—Ç–∏–ª—å, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
            exercises.forEach(exercise => {
                const difficultyLabel = getDifficultyLabel(exercise.difficulty);

                const exerciseCard = document.createElement('div');
                exerciseCard.className = 'speech-card border-2 border-blue-500 rounded-lg p-4 bg-gray-700 transition cursor-pointer hover:shadow-md';
                // üü¢ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å HTML –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤, —Ü–≤–µ—Ç–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
                exerciseCard.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-semibold text-lg text-white">${exercise.title}</h3>
                            <p class="text-white text-sm mt-1">${exercise.description}</p>
                        </div>
                        <span class="text-sm font-medium px-2 py-1 bg-gray-300 text-black rounded-full">${exercise.time} –º–∏–Ω</span>
                    </div>
                    <div class="mt-3 flex justify-between items-center">
                        <div>–°–ª–æ–∂–Ω–æ—Å—Ç—å: ${difficultyLabel}</div> <!-- üü¢ –î–æ–±–∞–≤–ª–µ–Ω–æ "–°–ª–æ–∂–Ω–æ—Å—Ç—å:" -->
                        <div>
                            <button onclick="startExercise(${exercise.id}, event)" class="text-xs bg-green-700 hover:bg-green-600 text-white px-3 py-1 rounded-md mr-2">
                                –ù–∞—á–∞—Ç—å
                            </button>
                        </div>
                    </div>
                `;
                exercisesList.appendChild(exerciseCard);
            });
        }

        // 18. –ó–∞–ø—É—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        function startExercise(id, event) {
            if (event) event.stopPropagation(); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
            const exercise = exercises.find(ex => ex.id === id); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –ø–æ–∏—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
            if (!exercise) return;

            currentExerciseId = id; // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî ID —Ç–µ–∫—É—â–µ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
            timeLeft = exercise.time * 60; // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            updateTimerDisplay();

            // üü¢ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å: —Ç–µ–∫—Å—Ç, —à—Ä–∏—Ñ—Ç, —Ü–≤–µ—Ç–∞
            currentExerciseTitle.textContent = exercise.title;
            currentExerciseDesc.textContent = exercise.description;
            currentExerciseDiff.innerHTML = `–°–ª–æ–∂–Ω–æ—Å—Ç—å: ${getDifficultyLabel(exercise.difficulty)}`;
            currentExerciseDiv.classList.remove('hidden');
        }

        // 19. –¢–∞–π–º–µ—Ä
        function startTimer() {
            if (isTimerRunning) return; // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
            if (timeLeft <= 0) resetTimer();
            isTimerRunning = true;
            startTimerBtn.classList.add('hidden'); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏
            pauseTimerBtn.classList.remove('hidden');

            // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ç–∞–π–º–µ—Ä–∞
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    isTimerRunning = false;
                    startTimerBtn.classList.remove('hidden');
                    pauseTimerBtn.classList.add('hidden');
                    if (currentExerciseId) {
                        const exercise = exercises.find(ex => ex.id === currentExerciseId);
                        if (exercise) {
                            exercise.completed = true;
                            renderExercises();
                        }
                    }
                    playCompletionSound();
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –ø–∞—É–∑–∞ —Ç–∞–π–º–µ—Ä–∞
            isTimerRunning = false;
            startTimerBtn.classList.remove('hidden');
            pauseTimerBtn.classList.add('hidden');
        }

        function resetTimer() {
            clearInterval(timerInterval); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî —Å–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞
            isTimerRunning = false;
            if (currentExerciseId) {
                const exercise = exercises.find(ex => ex.id === currentExerciseId);
                timeLeft = exercise.time * 60;
            } else {
                timeLeft = 180;
            }
            updateTimerDisplay();
            startTimerBtn.classList.remove('hidden');
            pauseTimerBtn.classList.add('hidden');
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.querySelector('div:first-child').textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            const totalSeconds = currentExerciseId ? exercises.find(ex => ex.id === currentExerciseId)?.time * 60 : 180;
            const circumference = 2 * Math.PI * 80;
            const percent = (timeLeft / totalSeconds) * circumference;
            timerProgress.style.strokeDasharray = circumference;
            timerProgress.style.strokeDashoffset = percent;
        }

        function playCompletionSound() {
            const audio = new Audio('https://assets.mixkit.co/sounds/download/mixkit-software-interface-file-operation-completed-2120.wav'); 
            audio.play().catch(e => console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫:', e));
        }

        // 20. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            renderExercises(); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
            updateTimerDisplay(); // üö´ –ù–µ —É–¥–∞–ª—è—Ç—å ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä
        });
    </script>
</body>
</html>
